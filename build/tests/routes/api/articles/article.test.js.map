{"version":3,"sources":["../../../../../src/tests/routes/api/articles/article.test.js"],"names":["request","require","mongoose","describe","process","env","API_BASE","userApiBase","articleApiBase","access_token","beforeEach","Article","deleteMany","User","app","post","send","username","email","password","confirmPassword","expect","res","body","token","afterAll","done","connection","close","it","set","title","description","response","get","toBe","articleSlug","error","msg","message"],"mappings":"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","sourcesContent":["const request = require('supertest');\r\nimport app from '../../../../index';\r\nimport Article from '../../../../models/Article';\r\nimport User from '../../../../models/User';\r\nconst mongoose = require('mongoose');\r\n\r\ndescribe('Tests for validating the create articles feature', () => {\r\n    process.env.API_BASE = '/api';\r\n    const userApiBase = process.env.API_BASE;\r\n    const articleApiBase = process.env.API_BASE + '/articles';\r\n    let access_token;\r\n\r\n    beforeEach(async () => {\r\n        await Article.deleteMany();\r\n        await User.deleteMany();\r\n        await request(app)\r\n            .post(userApiBase + '/register')\r\n            .send({\r\n                username: 'myrdstom',\r\n                email: 'nserekopaul@gmail.com',\r\n                password: 'P@ssw0rd',\r\n                confirmPassword: 'P@ssw0rd',\r\n            });\r\n        const res = await request(app)\r\n            .post(userApiBase + '/login')\r\n            .send({\r\n                email: 'nserekopaul@gmail.com',\r\n                password: 'P@ssw0rd',\r\n            })\r\n            .expect(200);\r\n        access_token = res.body.token;\r\n    });\r\n    afterAll(done => {\r\n        mongoose.connection.close(done);\r\n    });\r\n\r\n    it('Should successfully create an article', async () => {\r\n        const response = await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n    });\r\n\r\n    it('Should successfully get all articles', async () => {\r\n        await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n        const response = await request(app)\r\n            .get(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(200);\r\n        expect(response.body[0].title).toBe('Javascript');\r\n    });\r\n\r\n    it('Should successfully get all articles', async () => {\r\n        await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n        const response = await request(app)\r\n            .get(articleApiBase + '/javascript')\r\n            .expect(200);\r\n        expect(response.body.articleSlug).toBe('javascript');\r\n    });\r\n    it('Should return a message if the user tries to access a non-existent article', async () => {\r\n        const response = await request(app)\r\n            .get(articleApiBase + '/javascript')\r\n            .expect(404);\r\n        expect(response.body.error).toBe('This article does not exist');\r\n    });\r\n    it('Should return a message if there are no articles in the database', async () => {\r\n        const response = await request(app)\r\n            .get(articleApiBase + '/')\r\n            .expect(200);\r\n        expect(response.body.error).toBe('This database has no articles');\r\n    });\r\n    it('Should successfully delete an article', async () => {\r\n        await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n        const response = await request(app)\r\n            .delete(articleApiBase + '/javascript')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(200);\r\n        expect(response.body.msg).toBe('Article successfully deleted');\r\n    });\r\n    it('Should return an error if the user tries to delete a non-existent article', async () => {\r\n        const response = await request(app)\r\n            .delete(articleApiBase + '/javascript')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(404);\r\n        expect(response.body.error).toBe('article not found');\r\n    });\r\n    it('Should successfully like an article', async () => {\r\n        await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n        await request(app)\r\n            .post(articleApiBase + '/like/javascript')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(201);\r\n    });\r\n    it('Should successfully return an error if a user tries to like an article twice', async () => {\r\n        await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n        await request(app)\r\n            .post(articleApiBase + '/like/javascript')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(201);\r\n        const response = await request(app)\r\n            .post(articleApiBase + '/like/javascript')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(400);\r\n        expect(response.body.error).toBe('You have already liked this post');\r\n    });\r\n    it('Should return an error if a user tries to like a non-existent article', async () => {\r\n        await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n        await request(app)\r\n            .post(articleApiBase + '/like/javascript2')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(404);\r\n    });\r\n    it('Should return an error when a user tries to  unlike an article', async () => {\r\n        await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n        const response = await request(app)\r\n            .post(articleApiBase + '/unlike/javascript')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(400);\r\n        expect(response.body.error).toBe('You have not yet liked this article');\r\n    });\r\n    it('Should successfully like an article', async () => {\r\n        await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n        await request(app)\r\n            .post(articleApiBase + '/like/javascript')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(201);\r\n        await request(app)\r\n            .post(articleApiBase + '/unlike/javascript')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(201);\r\n    });\r\n    it('Should return an error when a user tries to  unlike an article', async () => {\r\n        await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n        const response = await request(app)\r\n            .post(articleApiBase + '/unlike/javascript2')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(404);\r\n        expect(response.body.error).toBe('article not found');\r\n    });\r\n    it('Should successfully dislike an article', async () => {\r\n        await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n        await request(app)\r\n            .post(articleApiBase + '/dislike/javascript')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(201);\r\n    });\r\n    it('Should return an error when a user tries to dislike an article twice', async () => {\r\n        await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n        await request(app)\r\n            .post(articleApiBase + '/dislike/javascript')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(201);\r\n        const response = await request(app)\r\n            .post(articleApiBase + '/dislike/javascript')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(400);\r\n        expect(response.body.error).toBe('You have already disliked this post');\r\n    });\r\n    it('Should return an error when a user tries to dislike an article that does not exist', async () => {\r\n        const response = await request(app)\r\n            .post(articleApiBase + '/dislike/javascript2')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(404);\r\n        expect(response.body.error).toBe('article not found');\r\n    });\r\n    it('Should return an error when a user tries to undislike an article they ahave not disliked', async () => {\r\n        await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n        const response = await request(app)\r\n            .post(articleApiBase + '/undislike/javascript')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(400);\r\n        expect(response.body.error).toBe('You have not yet disliked this article');\r\n    });\r\n    it('Should return an error when a user tries to un-dislike a non-existent article', async () => {\r\n        await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n        const response = await request(app)\r\n            .post(articleApiBase + '/undislike/javascript2')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(404);\r\n        expect(response.body.error).toBe('article not found');\r\n    });\r\n    it('Should successfully un-dislike an article', async () => {\r\n        await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n        await request(app)\r\n            .post(articleApiBase + '/dislike/javascript')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(201);\r\n        await request(app)\r\n            .post(articleApiBase + '/undislike/javascript')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(201);\r\n    });\r\n    it('Should successfully add a comment', async () => {\r\n        await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n        await request(app)\r\n            .post(articleApiBase + '/comment/javascript')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                \"body\": \"Well Python is not as awesome as javascript\"\r\n            })\r\n            .expect(200);\r\n    });\r\n    it('Should successfully return an error when you try to delete a comment froma non-existent article', async () => {\r\n        await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n        await request(app)\r\n            .delete(articleApiBase + '/comment/javascript2/5678w3657w')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(404);\r\n    });\r\n    it('Should successfully return an error when you try to delete a non-existent comment', async () => {\r\n        await request(app)\r\n            .post(articleApiBase + '/')\r\n            .set('Authorization', `${access_token}`)\r\n            .send({\r\n                title: 'Javascript',\r\n                body:\r\n                    'Javascript is an extremely awesome language, I do not know what I would',\r\n                description: 'This is how javascript is amazing',\r\n            })\r\n            .expect(201);\r\n        const response = await request(app)\r\n            .delete(articleApiBase + '/comment/javascript/5678w3657w')\r\n            .set('Authorization', `${access_token}`)\r\n            .expect(404);\r\n        expect(response.body.message).toBe('Resource not found');\r\n    });\r\n});\r\n"],"file":"article.test.js"}